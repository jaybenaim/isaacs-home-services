(this.webpackJsonpagw=this.webpackJsonpagw||[]).push([[0],{14:function(e,a,t){e.exports={footer:"footer_footer__2oW47",title:"footer_title__piRrt",description:"footer_description__NPmPK",footerlink:"footer_footerlink__aH3y3"}},58:function(e,a,t){e.exports=t(95)},65:function(e,a,t){},87:function(e,a,t){},89:function(e,a,t){},91:function(e,a,t){},92:function(e,a,t){},95:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(15),l=t.n(s),o=t(19),c=t(12),i=(t(65),t(5)),m=t(17),d=t.n(m);var p=e=>{e?d.a.defaults.headers.common.Authorization=e:delete d.a.defaults.headers.common.Authorization},u=t(42),h=t.n(u);var E=d.a.create({baseURL:"http://localhost:5000/api"});const v=e=>a=>{E.post("/users/login",e).then(e=>{const t=e.data.token;localStorage.setItem("jwtToken",t),p(t);const r=h()(t);a(g(r))}).catch(e=>{a({type:"GET_ERRORS",payload:e})})},g=e=>({type:"SET_CURRENT_USER",payload:e});var f=t(10);t(87);var w=Object(c.f)(Object(f.b)(e=>({auth:e.auth,errors:e.errors}),{logoutUser:()=>e=>{localStorage.removeItem("jwtToken"),p(!1),e(g({}))}})(e=>{const a=e.auth,t=a.user.name,r=a.isAuthenticated,s=e.logoutUser;return r?n.a.createElement("div",{className:"auth-content"},n.a.createElement("button",{id:"logout",onClick:e=>(e=>{e.preventDefault(),s()})(e),className:" auth-link"},"Logout ",n.a.createElement("span",{className:"auth-content--name"}," ",t,"?"))):n.a.createElement("div",{className:"auth-content"},n.a.createElement(i.b,{to:"/login",className:"auth-link"},"Log In"),n.a.createElement(i.b,{to:"/register",className:"auth-link"},"Register"))})),b=t(100);t(89);var N=()=>n.a.createElement(n.a.Fragment,null,n.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light border-bottom justify-content-between"},n.a.createElement(i.b,{className:"navbar-brand",to:"/"},"Isaac's Home Services"),n.a.createElement("div",{className:"navbar-nav"},n.a.createElement(i.b,{className:"nav-item nav-link active ",to:"/"},"Home"),n.a.createElement(b.a,null,n.a.createElement(b.a.Toggle,{id:"navbar-toggle"},"Account"),n.a.createElement(b.a.Menu,null,n.a.createElement(w,null)))))),y=t(14),x=t.n(y);var k=()=>n.a.createElement("footer",{className:x.a.footer},n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"row justify-content-around"},n.a.createElement("div",{className:"col-8 col-md-5"},n.a.createElement("h5",{className:x.a.title},"AGW"),n.a.createElement("p",{className:x.a.description},"This is placeholder text. Your web app description goes here.")),n.a.createElement("div",{className:"col-2"},n.a.createElement("ul",{className:"list-unstyled"},n.a.createElement("li",null,n.a.createElement("a",{className:x.a.footerlink,href:"/"},"Example Link")),n.a.createElement("li",null,n.a.createElement("a",{className:x.a.footerlink,href:"/"},"Example Link")),n.a.createElement("li",null,n.a.createElement("a",{className:x.a.footerlink,href:"/"},"Example Link")))))));var S=()=>n.a.createElement("main",{id:"mainContent"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row justify-content-center mt-5 p-0"},n.a.createElement("h3",null,"Home")))),R=t(4),j=t.n(R);class C extends r.Component{constructor(...e){super(...e),this.state={email:"",password:"",errors:{}},this.onChange=e=>{this.setState({[e.target.id]:e.target.value})},this.onSubmit=e=>{e.preventDefault();const a={email:this.state.email,password:this.state.password};this.props.loginUser(a)},this.showErrors=e=>{let a=Object.keys(e);for(let t=0;t<a.length;t++)return n.a.createElement("li",null,e[a[t]])}}static getDerivedStateFromProps(e){return e.auth.isAuthenticated&&e.history.push("/"),e.errors?{errors:e.errors}:null}componentDidMount(){this.setState({errors:{}})}componentDidUpdate(e,a){e.auth.isAuthenticated&&e.history.push("/"),a.errors.length>=1&&this.setState({errors:a})}render(){const e=this.state.errors;return n.a.createElement("div",{className:"container"},n.a.createElement("div",{style:{marginTop:"4rem"},className:"row"},n.a.createElement("div",{className:"col s8 offset-s2"},n.a.createElement(i.b,{to:"/",className:"btn-flat waves-effect"},n.a.createElement("i",{className:"material-icons left"},"keyboard_backspace")," Back to home"),n.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},n.a.createElement("h4",null,n.a.createElement("b",null,"Login")," below"),n.a.createElement("p",{className:"grey-text text-darken-1"},"Don't have an account? ",n.a.createElement(i.b,{to:"/register"},"Register"))),e.response&&n.a.createElement("div",null,this.showErrors(e.response.data)),n.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",placeholder:"Email",className:j()("",{invalid:e.email||e.emailnotfound})}),n.a.createElement("label",{htmlFor:"email",style:{display:"none"}},"Email"),n.a.createElement("span",{className:"red-text"},e.email,e.emailnotfound))," ",n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,className:j()("",{invalid:e.password||e.passwordincorrect}),id:"password",type:"password",placeholder:"Password"}),n.a.createElement("label",{htmlFor:"password",style:{display:"none"}},"Password"),n.a.createElement("span",{className:"red-text"},e.password,e.passwordincorrect)),n.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},n.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Login"))))))}}var O=Object(f.b)(e=>({auth:e.auth,errors:e.errors}),{loginUser:v})(C);t(91);class _ extends r.Component{constructor(...e){super(...e),this.state={name:"",email:"",password:"",password2:"",errors:{}},this.onChange=e=>{this.setState({[e.target.id]:e.target.value})},this.onSubmit=e=>{e.preventDefault();const a={name:this.state.name,email:this.state.email,password:this.state.password,password2:this.state.password2};this.props.registerUser(a,this.props.history)}}static getDerivedStateFromProps(e){return e.errors?{errors:e.errors}:null}componentDidUpdate(e,a){e.auth.isAuthenticated&&e.history.push("/")}render(){const e=this.state.errors;return n.a.createElement("div",{className:"container register-container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s8 offset-s2"},n.a.createElement(i.b,{to:"/",className:"btn-flat waves-effect"},n.a.createElement("i",{className:"material-icons left"},"keyboard_backspace")," Back to home"),n.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},n.a.createElement("h4",null,n.a.createElement("b",null,"Register")," below"),n.a.createElement("p",{className:"grey-text text-darken-1"},"Already have an account? ",n.a.createElement(i.b,{to:"/login"},"Log in"))),n.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{onChange:this.onChange,value:this.state.name,error:e.name,id:"name",type:"text",className:j()("",{invalid:e.name})}),n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement("span",{className:"red-text"},e.name)),n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:j()("",{invalid:e.email})}),n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("span",{className:"red-text"},e.email)),n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:j()("",{invalid:e.password})}),n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("span",{className:"red-text"},e.password)),n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{onChange:this.onChange,value:this.state.password2,error:e.password2,id:"password2",type:"password",className:j()("",{invalid:e.password2})}),n.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),n.a.createElement("span",{className:"red-text"},e.password2)),n.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},n.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Sign up"))))))}}var L=Object(f.b)(e=>({auth:e.auth,errors:e.errors}),{registerUser:(e,a)=>t=>{E.post("/users/register",e).then(r=>{t(v(e)),a.push("/")}).catch(e=>{t({type:"GET_ERRORS",payload:e})})}})(Object(c.f)(_));t(92);var T=()=>n.a.createElement("div",{id:"notfound"},n.a.createElement("div",{className:"notfound"},n.a.createElement("div",{className:"notfound-404"},n.a.createElement("h1",null,"404")),n.a.createElement("h2",null,"Oops, The Page you are looking for can't be found!"),n.a.createElement(i.b,{to:"/"},n.a.createElement("span",{className:"arrow"}),"Return To Homepage")));var U=()=>n.a.createElement(n.a.Fragment,null,n.a.createElement(N,null),n.a.createElement(c.c,null,n.a.createElement(c.a,{exact:!0,path:"/",component:S}),n.a.createElement(c.a,{exact:!0,path:"/services",component:S}),n.a.createElement(c.a,{exact:!0,path:"/register",render:e=>n.a.createElement(L,e)}),n.a.createElement(c.a,{exact:!0,path:"/login",render:e=>n.a.createElement(O,e)}),n.a.createElement(c.a,{exact:!0,path:"/404",render:e=>n.a.createElement(T,e)})),n.a.createElement(k,null));class A extends n.a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,a){}render(){return this.state.hasError?n.a.createElement(T,null):this.props.children}}var F=Object(c.f)(A),D=t(55),P=t(11),I=t(52),W=t(21);const G=t(93),H={isAuthenticated:!1,user:{},loading:!1};const M={};var B=Object(P.c)({auth:function(e=H,a){switch(a.type){case"SET_CURRENT_USER":return Object(W.a)(Object(W.a)({},e),{},{isAuthenticated:!G(a.payload),user:a.payload});case"USER_LOADING":return Object(W.a)(Object(W.a)({},e),{},{loading:!0});default:return e}},errors:function(e=M,a){switch(a.type){case"GET_ERRORS":return a.payload;default:return e}}}),z=t(53);const J=Object(z.createLogger)(),V=[I.a,J];var K=Object(P.e)(B,{},Object(P.d)(Object(P.a)(...V))),Y=t(54),$=t.n(Y);const q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Q(e){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const a=e.installing;a.onstatechange=()=>{"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(e=>{console.error("Error during service worker registration:",e)})}t(94);const X=Object(D.a)();X.listen(e=>{o.a.set({page:e.pathname}),o.a.pageview(e.pathname)}),o.a.initialize("UA-151372187-4"),o.a.pageview(window.location.hash),$.a.startMagic([{url:"https://isaacs-home-services.herokuapp.com/#/services",isFullMatch:!1},{url:"/404",isFullMatch:!1}],(function(){l.a.render(n.a.createElement(f.a,{store:K},n.a.createElement(i.a,{history:X},n.a.createElement(F,null,n.a.createElement(U,null)))),document.getElementById("root"))})),function(){if("serviceWorker"in navigator){if(new URL("/isaacs-home-services",window.location).origin!==window.location.origin)return;window.addEventListener("load",()=>{const e="".concat("/isaacs-home-services","/service-worker.js");q?function(e){fetch(e).then(a=>{404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):Q(e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(e):Q(e)})}}()}},[[58,1,2]]]);
//# sourceMappingURL=main.29c8895a.chunk.js.map